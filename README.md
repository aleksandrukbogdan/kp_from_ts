# Инструкция по запуску

## 1. Предварительные требования

1.  Установите **Temporal CLI**:
    -   Скачайте последнюю версию для Windows с [официального репозитория](https://github.com/temporalio/cli/releases).
    -   Распакуйте и добавьте путь к `temporal.exe` в переменную окружения PATH.
    -   Или используйте Homebrew (если есть WSL): `brew install temporal`.

2.  Убедитесь, что установлен **Python 3.9+**.

## 2. Установка зависимостей

В корневой папке проекта выполните команду:
```bash
pip install -r requirements.txt
```

## 3. Настройка переменных окружения

Убедитесь, что в файле `.env` указаны корректные данные для доступа к LLM (Qwen/OpenAI):
```env
QWEN_BASE_URL=...
QWEN_API_KEY=...
QWEN_MODEL_NAME=...
```

## 4. Запуск

Для работы приложения нужно запустить 3 компонента в **разных терминалах**:

### Терминал 1: Сервер Temporal
Запустите сервер разработки:
```bash
.\temporal.exe server start-dev
```
Сервер будет доступен по адресу `localhost:7233`, а веб-интерфейс — по адресу `http://localhost:8233`.

### Терминал 2: Воркеры (Worker)
Запустите Python-воркера, который будет выполнять задачи:
```bash
python worker.py
```
Вы должны увидеть сообщение `Workers started`.

### Терминал 3: Веб-интерфейс (Streamlit)
Запустите клиентское приложение:
```bash
streamlit run app.py
```
Приложение откроется в браузере.

## 5. Использование

1.  Загрузите файл ТЗ (PDF, DOCX, TXT).
2.  Нажмите "Запустить анализ".
3.  Следите за статусом в Temporal UI (`http://localhost:8233`) или в интерфейсе приложения.
4.  После анализа отредактируйте данные и смету.
5.  Нажмите "Утвердить и Сгенерировать КП".
